<template>
  <div>
    <section v-for="gerecht in filteredGerechten" :key="gerecht">

      <img :src="gerecht.image.src" :alt="gerecht.image.alt">

      <div class="infoVakje">

        <h2>{{ gerecht.name }} <svg @click="toggleFavorite(gerecht.name)" :class="{ favorite: gerecht.isFavorite === true }" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.99 37.2"><path class="a" d="M18.43,18.74a3.64,3.64,0,0,0,2-1.2A4.36,4.36,0,0,0,21.29,16a1.47,1.47,0,0,0,.08-.3,4,4,0,0,0,.1-.92,5.06,5.06,0,0,0-.12-.87,2.73,2.73,0,0,0-1.25-1.63,3.44,3.44,0,0,0-1.92-.37,6.85,6.85,0,0,0-2,.36,4.62,4.62,0,0,0-1,.49,3.83,3.83,0,0,0-1.23,1.27,3.24,3.24,0,0,0-.33,2.32,2.72,2.72,0,0,0,5,.74,2.67,2.67,0,0,0,.27-2A2.5,2.5,0,0,0,17,13.31a2.88,2.88,0,0,0-2.76.83,4.59,4.59,0,0,0-.76,1,7.83,7.83,0,0,0-.73,1.94,5.38,5.38,0,0,0-.14,1,2.74,2.74,0,0,0,.81,2,2.68,2.68,0,0,0,1.89.79,2.31,2.31,0,0,0,.74-.09A2.76,2.76,0,0,0,17.23,20a1.85,1.85,0,0,0,.52-.81,1.86,1.86,0,0,0,.22-1,2.56,2.56,0,0,0-.74-1.77,2.52,2.52,0,0,0-1.76-.73l-.67.09a2.5,2.5,0,0,0-1.1.64l0,0,.5-.39h0l.59-.25h0l.67-.09h0l.66.09h0l.6.25-.08,0,.51.39,0,0,.39.5,0,0,.25.6a.27.27,0,0,1,0-.12l.09.66a.62.62,0,0,1,0-.13l-.09.67a6.15,6.15,0,0,1,.36-1.2l-.25.6a3,3,0,0,1,.34-.6l-.4.51a1.68,1.68,0,0,1,.32-.33l-.5.39.09-.05-.59.25.05,0-.67.09h.05l-.66-.09h.05l-.6-.25,0,0L14,16.42v0l-.09-.66v0l.34-1.27a.16.16,0,0,1,0,.07l.39-.51,0,0,.51-.4,0,0,.59-.26s-.05,0-.07,0l.66-.09h-.08l.66.08h0l.59.25,0,0,.51.39,0,0,.39.51a.35.35,0,0,1-.05-.08l.25.59a.29.29,0,0,1,0-.09l.09.66v-.15l-.09.67.06-.19-.25.59a2.39,2.39,0,0,1,.13-.21l-.39.51a1.45,1.45,0,0,1,.22-.21l-.51.39a1.72,1.72,0,0,1,.42-.23l-.6.25a4.31,4.31,0,0,1,1-.25l-.67.09a4,4,0,0,1,.91,0l-.66-.09.1,0-.59-.25,0,0-.9-.89,0,0-.25-.6a1,1,0,0,1,0,.17l-.09-.67a2.16,2.16,0,0,1,0,.36l.09-.67a1.4,1.4,0,0,1-.1.35l.26-.6a2.12,2.12,0,0,1-.21.36l.39-.5a1.59,1.59,0,0,1-.29.29l.51-.39a1.92,1.92,0,0,1-.31.18l.59-.26a1.4,1.4,0,0,1-.29.09,1.78,1.78,0,0,0-.85.44,1.93,1.93,0,0,0-.65.71,2.51,2.51,0,0,0,.9,3.42l.6.25a2.5,2.5,0,0,0,1.33,0Z"/><path class="a" d="M25.15,13.47a10.84,10.84,0,0,0-5,.08,13.58,13.58,0,0,0-3.77,1.83c-.27.17-.55.32-.83.47-.45.24.06,0,.08,0s-.41.13-.51.16a8.66,8.66,0,0,0-2.05.68,5.08,5.08,0,0,0-2.37,4.41,4.3,4.3,0,0,0,.63,2.52,4.87,4.87,0,0,0,.85,1c.06.05.4.29.4.38l-.19-.24.16.29a6.89,6.89,0,0,0,1.09,1.64A4.15,4.15,0,0,0,16,27.79a17.16,17.16,0,0,0,2.37.16,11.42,11.42,0,0,0,2.41-.1,4,4,0,0,0,2-1,3.57,3.57,0,0,0,.82-3.44,6.71,6.71,0,0,0-2.51-4.2A4.29,4.29,0,0,0,16.57,19c-2,1.2-2.11,3.81-1.06,5.66.3.53.7,1,1,1.5a5.47,5.47,0,0,0,1.64,1.9c3.27,2.15,6.63-2,7.1-4.94A6.08,6.08,0,0,0,24.11,18a3.53,3.53,0,0,0-5.58.37c-1,1.56-.49,4,.34,5.54a5.16,5.16,0,0,0,4.54,2.72,4.38,4.38,0,0,0,4.26-3.5,6.71,6.71,0,0,0-1.5-5.2l-.39,3a1.73,1.73,0,0,1-1,.44,2.52,2.52,0,0,0,2.5-2.5,2.55,2.55,0,0,0-2.5-2.5,3.64,3.64,0,0,0-2.57,1,2.53,2.53,0,0,0-.39,3,10.89,10.89,0,0,1,.67,1,1.59,1.59,0,0,1,.28.53s-.12-.43-.07-.14c0,.05.15.4.11.43s0-.54-.05-.24a.78.78,0,0,0,0,.26s.11-.5,0-.24.11-.2.11-.2c-.22.38.32-.25,0,0,0,0,.43-.3.2-.16s.47-.15.17-.08.28,0,.29,0-.2.05-.24,0h-.08l.35,0a1.55,1.55,0,0,0-.23,0,2,2,0,0,0-.23-.07c.05,0,.41.24.23.08s-.39-.21-.07,0,0,0-.06-.1.14.14.12.17-.12-.2-.13-.22a2.42,2.42,0,0,0-.12-.23s.15.45.08.19-.1-.33-.14-.51,0-.23-.06-.26,0,.52,0,.14a1.8,1.8,0,0,0,0-.52c.1.17-.19.59-.23.67l-.2.33-1.21.51c-.45,0-.67-.27-1-.49s-.06-.11,0,0c-.07-.15-.12-.4-.06-.1a2.71,2.71,0,0,0,.12.51s0-.5-.05-.23c0,.08,0,.17,0,.25a2.29,2.29,0,0,0,0,.52s.1-.5,0-.24c0,.11,0,.23-.08.34s-.1.32-.15.49.08-.22.08-.2-.15.31-.15.3-.29.37-.28.44.32-.36.13-.17-.15.18-.23.26-.48.38-.21.21,0,0-.05,0a1.82,1.82,0,0,1,.4-.11,2.09,2.09,0,0,1,.95.21s.4.34.21.16.15.19.15.2S21,24,21,23.94c-.21-.35-.42-.69-.65-1-.12-.17-.25-.34-.36-.51a2.26,2.26,0,0,1-.16-.26c-.16-.25-.07-.13,0,.07,0-.08-.06-.36,0,0s0,0,0,0a1.33,1.33,0,0,1-.33.87,1.55,1.55,0,0,1-.46.31c-.28.16-.16.07,0,0s-.59.06-.31.06-.56,0-.24,0c0,0,.17.08.21.07s-.55-.29-.2-.07c-.62-.4,0,0,0,0s-.24-.39-.13-.14a1.71,1.71,0,0,0,.13.23c0,.06.16.34,0,0s0,.06,0,.12.11.35.16.53.13.83.15.14a1.72,1.72,0,0,1,.46-1.09s.46-.33.24-.19.26-.13.27-.12a1.67,1.67,0,0,0-.29.06c.06,0,.62,0,.22,0a1.77,1.77,0,0,0-.23,0l-.62,0-1.44,0a1.67,1.67,0,0,0-.54,0s.49.11.23,0a1.38,1.38,0,0,0-.26-.06s.44.22.2.08.17.13.17.13.26.42.14.19-.14-.24-.21-.36a5.05,5.05,0,0,0-1.6-2.08c-.19-.12.06.09.1.16s.13.46.08.2,0,.24,0,.24a2.43,2.43,0,0,0,0-.27c0-.26,0,.18,0,.22a2.16,2.16,0,0,0,.05-.27c0-.12,0-.24.08-.36s.19-.38,0-.14a2.64,2.64,0,0,1-.23.35c.21-.24,0,0-.13.1.06,0,.32-.15,0,0s0,0,.09,0c.39-.12.78-.19,1.16-.3a11.63,11.63,0,0,0,2.86-1.44,10.62,10.62,0,0,1,1.18-.68s.36-.14.08,0,.13,0,.18-.05a7,7,0,0,1,.69-.2l.3-.06.3-.06-.26,0c.1-.09.57,0,.71,0s.48,0,.72,0c.05,0,.39.05.07,0s.26.06.27.06a2.5,2.5,0,1,0,1.33-4.82Z"/><path class="b" d="M14.44,14a64.2,64.2,0,0,1,2.49-8.28C18.28,2.16,19,.48,20.11.5S22,2.78,23.33,6.39A59.08,59.08,0,0,1,25.5,14"/><path class="b" d="M28.11,22.93A63.06,63.06,0,0,1,30.7,30.8c.87,3.5,1.22,5.23.38,5.77s-2.72-.81-5.65-3a58.88,58.88,0,0,1-5.79-4.94"/><path class="b" d="M25,13.61a65,65,0,0,1,8.64.08c3.75.32,5.58.56,5.86,1.61S37.81,17.8,34.71,20A58.84,58.84,0,0,1,28,24.25"/><path class="b" d="M11.88,22.93A61.45,61.45,0,0,0,9.29,30.8c-.87,3.5-1.22,5.23-.38,5.77s2.71-.81,5.65-3a58.88,58.88,0,0,0,5.79-4.94"/><path class="b" d="M15,13.61a65,65,0,0,0-8.64.08C2.64,14,.81,14.25.53,15.3S2.18,17.8,5.28,20A59.74,59.74,0,0,0,12,24.25"/></svg></h2>
        <div class="ingredienten">
          <h3>IngrediÃ«nten</h3>
          <ul>
            <li v-for="ingr in gerecht.ingredienten" :key="ingr">
              {{ ingr }}
            </li>
          </ul>
        </div>

      </div>

    </section>
  </div>
</template>

<script>

export default {
  name: "GerechtenLus",
  props: {
    gerechten: {
      type: Array,
      required: true
    },
    showRijst: Boolean,
    showPasta: Boolean,
    showVeggie: Boolean,
  },
  computed: {
    filteredGerechten() {
      let lijst = [];
      for (let i = 0; i < this.gerechten.length; i++) {
        if (((this.gerechten[i].categorie === 'rijst' && this.showRijst === true) || (this.gerechten[i].categorie === 'pasta' && this.showPasta === true)) && (this.showVeggie === false || this.gerechten[i].isVeggie)) {
          lijst.push(this.gerechten[i])
        }
      }
      return lijst;
    }
  },
  methods: {
    toggleFavorite(name) {
      this.$emit('toggleFavorite', {nameToFavorite: name})
    }
  }
}
</script>

<style lang="scss" scoped>

section {
  display: flex;
  border: 4px solid #402E32;
  border-radius: 15px;
  overflow: hidden;
  margin: 3rem 150px;
  box-shadow: 0 0 15px #402E32;
  img {
    object-fit: contain;
    background-color: #eee;
    max-width: 300px;
    padding: 10px;
    height: auto;
    border-right: 4px solid #402E32;
  }

  .infoVakje {
    flex: 1 1 500px;
    display: flex;
    flex-direction: column;

    h2 {
      flex: 0 1 10%;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #eee;
      border-bottom: 1px solid #000;
      span {
        text-align: right;
        cursor: pointer;
      }
    }

    .ingredienten {
      display: flex;
      flex-direction: column;
      h3 {
        background-color: lightgray;
        text-align: left;
        padding: 7px;
        border-bottom: 1px solid #000;
      }

      ul {
        display: flex;
        flex-wrap: wrap;
        list-style-type: none;
        li {
          background-color: lightgray;
          flex: 1 1 45%;
          padding: 25px;
          border: 1px solid #000;
          border-radius: 15px;
          margin: 10px;
        }
      }
    }
  }

  &:nth-child(even) {
    img {
      order: 2;
      border-right: none;
      border-left: 1px solid #000;
    }

    .infoVakje {
      order: 1;
    }
  }
}

svg {
  max-width: 50px;
  cursor: pointer;
}
.a,.b{
  fill:#fff;
}
.b{
  stroke:#231f20;stroke-miterlimit:10;
}

.favorite {
  .a,.b{
    fill:#fcff5f;
  }
  .b{
    stroke:#231f20;
    stroke-miterlimit:10;
  }
}
</style>